<app-navbar [useremail] = email></app-navbar>
<flash-messages></flash-messages>
<div class = "row" style = "margin-top : 15px; margin-left: 5px; margin-right: 5px;">
  <div class = "col-lg-8">
        <div class = "row">
            <form style = "margin-bottom: 10px; width:85%; margin-left: 25px;">
                <div class="input-group">
                  <input type="search" [(ngModel)]="searchText" class="form-control" placeholder="Search" name="TabletName"  (keyup) = "display($event)">
                  <div class="input-group-btn">
                    <button class="btn btn-default" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </div>
                </div>
              </form>
              
              <ul class="list-group" *ngFor = "let med of medicines | filter : searchText"  [hidden] = "ishidden">
                <li class="list-group-item"> {{med.name}} - {{med._id}} <span class = "badge" (click) = "AddProd(med)"> Add </span> </li>
              </ul>
        </div>
        <div class = "row">
            <table class="table">
                <thead>
                  <tr>
                    <th>S.No</th>
                    <th>Id.No</th>
                    <th>Tablet Name</th>
                    <th>Price</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor = "let prod of prods index as i">
                    <td>{{i + 1}}</td>
                    <td>{{prod._id}}</td>
                    <td>{{prod.name}}</td>
                    <td>{{prod.price}}</td>
                    <td><span class = "badge" (click) = "DelProd(prod)"> Delete </span></td>
                  </tr>
                  <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td><b>Total : {{totalprice}}</b></td>
                  </tr>
                </tbody>
              </table>
  
        </div>
            
          
            </div>
  <div class = "col-lg-4">
      <form [formGroup] = "cusform">
          <div class="form-group">
              <label for="cusName">Customer Name:</label>
              <input type="text" class="form-control" formControlName = "cusName" id="cus" [ngClass]="{ 'is-invalid': submitted && l.cusName.errors }">
              <div *ngIf="submitted && l.cusName.errors" class="invalid-feedback">
                  <div *ngIf="l.cusName.errors.required" style="color:red">**Customer Name is required**</div>
                </div>
            </div>
            <div class="form-group">
                <label for="cus">Customer Phone:</label>
                <input type="text" class="form-control" formControlName = "cusPhone"  [ngClass]="{ 'is-invalid': submitted && l.cusPhone.errors }">
                <div *ngIf="submitted && l.cusPhone.errors" class="invalid-feedback">
                    <div *ngIf="l.cusPhone.errors.required" style="color:red">**Customer Name is required**</div>
                    <!-- <div *ngIf="l.cusPhone.errors.pattern" style="color:red">**Customer Name is required**</div> -->
                  </div>
            </div>
            <div class="form-group">
                <label for="cus">Customer Email:</label>
                <input type="text" class="form-control" formControlName = "cusEmail" id="cus" [ngClass]="{ 'is-invalid': submitted && l.cusEmail.errors }">
            </div>
    
      </form>
      <button class = "btn btn-primary" (click) = "Checkout()" style = "width:100%;">Check Out</button>
  </div>




  
  
    
</div>

